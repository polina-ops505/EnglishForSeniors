<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Регистрация - EnglishForSeniors</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <h1><i class="fas fa-book-open"></i> EnglishForSeniors</h1>
                <p class="motto">Регистрация. "Дорогу осилит идущий" - сделайте первый шаг!</p>
            </div>
            <nav>
                <a href="index.html">Главная</a>
                <a href="courses.html">Курсы</a>
                <a href="dictionary.html">Словарь</a>
                <a href="login.html">Войти</a>
                <a href="register.html" class="active">Регистрация</a>
            </nav>
        </div>
    </header>

    <main>
        <div class="container">
            <div class="form-container">
                <h2><i class="fas fa-user-plus"></i> Регистрация нового пользователя</h2>
                <p class="joke">"Семь раз отмерь, один раз зарегистрируйся" - и учи английский с удовольствием!</p>
                
                <form id="register-form">
                    <div class="form-group">
                        <label for="username"><i class="fas fa-user"></i> Имя и фамилия:</label>
                        <input type="text" id="username" required placeholder="Иван Иванов">
                    </div>
                    
                    <div class="form-group">
                        <label for="email"><i class="fas fa-envelope"></i> Email:</label>
                        <input type="email" id="email" required placeholder="ivan@example.com">
                    </div>
                    
                    <div class="form-group">
                        <label for="password"><i class="fas fa-lock"></i> Пароль:</label>
                        <input type="password" id="password" required minlength="6">
                        <small>Минимум 6 символов</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="confirm-password"><i class="fas fa-lock"></i> Подтвердите пароль:</label>
                        <input type="password" id="confirm-password" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="age"><i class="fas fa-birthday-cake"></i> Ваш возраст:</label>
                        <select id="age" required>
                            <option value="">Выберите возраст</option>
                            <option value="55-60">55-60 лет</option>
                            <option value="61-65">61-65 лет</option>
                            <option value="66-70">66-70 лет</option>
                            <option value="71-75">71-75 лет</option>
                            <option value="76-80">76-80 лет</option>
                            <option value="81+">81+ лет</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="district"><i class="fas fa-map-marker-alt"></i> Район Москвы (необязательно):</label>
                        <select id="district">
                            <option value="">Не указывать</option>
                            <option value="ЦАО">Центральный</option>
                            <option value="САО">Северный</option>
                            <option value="СВАО">Северо-Восточный</option>
                            <option value="ВАО">Восточный</option>
                            <option value="ЮВАО">Юго-Восточный</option>
                            <option value="ЮАО">Южный</option>
                            <option value="ЮЗАО">Юго-Западный</option>
                            <option value="ЗАО">Западный</option>
                            <option value="СЗАО">Северо-Западный</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="agreement" required>
                            Я согласен с <a href="#">условиями участия</a> в программе "Московское долголетие"
                        </label>
                    </div>
                    
                    <button type="submit" class="btn-primary" style="width: 100%;">
                        Зарегистрироваться и начать учиться! <i class="fas fa-graduation-cap"></i>
                    </button>
                </form>
                
                <div class="form-footer">
                    <p>Уже есть аккаунт? <a href="login.html">Войти</a></p>
                    <p><a href="index.html">Вернуться на главную</a></p>
                </div>
                
                <div class="joke" style="margin-top: 30px;">
                    <p><i class="fas fa-lightbulb"></i> Помните: "Терпение и труд всё перетрут" - 
                    и английский обязательно поддастся!</p>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>Проект "Московское Долголетие" <i class="fas fa-heart"></i> 2025</p>
            <p>"Не имей сто рублей, а имей сто английских слов!"</p>
            <p>Проект разработан Толстенёвой Полиной</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Обработка формы регистрации
        document.getElementById('register-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            const age = document.getElementById('age').value;
            const district = document.getElementById('district').value;
            
            // Проверка паролей
            if (password !== confirmPassword) {
                alert('Пароли не совпадают!');
                return;
            }
            
            // Получаем существующих пользователей
            let users = JSON.parse(localStorage.getItem('users')) || [];
            
            // Проверка на существующего пользователя
            if (users.find(u => u.email === email)) {
                alert('Пользователь с таким email уже зарегистрирован!');
                return;
            }
            
            // Создаем нового пользователя
            const newUser = {
                id: Date.now(),
                username: username,
                email: email,
                password: password, // В реальном приложении нужно хэшировать!
                age: age,
                district: district,
                level: null,
                progress: {},
                learnedWords: [],
                registered: new Date().toISOString(),
                lastLogin: new Date().toISOString()
            };
            
            // Сохраняем пользователя
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            localStorage.setItem('currentUser', JSON.stringify(newUser));
            
            // Перенаправляем на тест
            alert('Регистрация успешна! Сейчас пройдете тест на определение уровня.');
            window.location.href = 'test.html';
        });
    </script>
<script src="script.js"></script>
</body>
</html>