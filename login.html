<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Вход - EnglishForSeniors</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>
        <div class="container">
            <div class="logo">
                <h1><i class="fas fa-book-open"></i> EnglishForSeniors</h1>
                <p class="motto">Вход в систему. "Старый друг лучше новых двух" - возвращайтесь!</p>
            </div>
            <nav>
                <a href="index.html">Главная</a>
                <a href="courses.html">Курсы</a>
                <a href="dictionary.html">Словарь</a>
                <a href="login.html" class="active">Войти</a>
                <a href="register.html">Регистрация</a>
            </nav>
        </div>
    </header>

    <main>
        <div class="container">
            <div class="form-container">
                <h2><i class="fas fa-sign-in-alt"></i> Вход в личный кабинет</h2>
                <p class="joke">"В гостях хорошо, а дома лучше" - а в личном кабинете лучше всего!</p>
                
                <form id="login-form">
                    <div class="form-group">
                        <label for="login-email"><i class="fas fa-envelope"></i> Email:</label>
                        <input type="email" id="login-email" required placeholder="ivan@example.com">
                    </div>
                    
                    <div class="form-group">
                        <label for="login-password"><i class="fas fa-lock"></i> Пароль:</label>
                        <input type="password" id="login-password" required>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="remember-me">
                            Запомнить меня
                        </label>
                    </div>
                    
                    <button type="submit" class="btn-primary" style="width: 100%;">
                        Войти в аккаунт <i class="fas fa-arrow-right"></i>
                    </button>
                </form>
                
                <div class="form-footer">
                    <p>Нет аккаунта? <a href="register.html">Зарегистрироваться</a></p>
                    <p><a href="#" onclick="forgotPassword()">Забыли пароль?</a></p>
                    <p><a href="index.html">Вернуться на главную</a></p>
                </div>
                
                <div class="joke" style="margin-top: 30px;">
                    <p><i class="fas fa-lightbulb"></i> Помните: "Тише едешь - дальше будешь" - 
                    но в обучении важно не останавливаться!</p>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>Проект "Московское Долголетие" <i class="fas fa-heart"></i> 2025</p>
            <p>"Повторение - мать учения!" - возвращайтесь каждый день!</p>
            <p>Проект разработан Толстенёвой Полиной</p>

        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Обработка формы входа
        document.getElementById('login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            const rememberMe = document.getElementById('remember-me').checked;
            
            // Получаем пользователей из localStorage
            const users = JSON.parse(localStorage.getItem('users')) || [];
            
            // Ищем пользователя
            const user = users.find(u => u.email === email && u.password === password);
            
            if (user) {
                // Обновляем время последнего входа
                user.lastLogin = new Date().toISOString();
                localStorage.setItem('currentUser', JSON.stringify(user));
                
                // Обновляем в массиве пользователей
                const index = users.findIndex(u => u.id === user.id);
                users[index] = user;
                localStorage.setItem('users', JSON.stringify(users));
                
                // Если выбрано "запомнить меня"
                if (rememberMe) {
                    localStorage.setItem('rememberedEmail', email);
                } else {
                    localStorage.removeItem('rememberedEmail');
                }
                
                // Перенаправляем в личный кабинет
                alert('Вход выполнен успешно!');
                window.location.href = 'profile.html';
            } else {
                alert('Неверный email или пароль!');
            }
        });
        
        // Восстанавливаем email если был запомнен
        document.addEventListener('DOMContentLoaded', function() {
            const rememberedEmail = localStorage.getItem('rememberedEmail');
            if (rememberedEmail) {
                document.getElementById('login-email').value = rememberedEmail;
                document.getElementById('remember-me').checked = true;
            }
        });
        
        function forgotPassword() {
            const email = prompt('Введите ваш email для восстановления пароля:');
            if (email) {
                // В реальном приложении здесь была бы отправка email
                alert(`Инструкция по восстановлению пароля отправлена на ${email}\n(в демо-версии просто проверьте консоль)`);
                console.log('Восстановление пароля для:', email);
            }
        }
    </script>
<script src="script.js"></script>
</body>
</html>