<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–ò–ü-–∫—É—Ä—Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ —É—Ä–æ–≤–Ω—è - EnglishForSeniors</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* –°—Ç–∏–ª–∏ –¥–ª—è —à—Ç–æ—Ä–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ */
        .burger-menu {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            cursor: pointer;
        }

        .burger-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #9C27B0, #673AB7);
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 5px;
            padding: 12px;
            box-shadow: 0 5px 15px rgba(156, 39, 176, 0.3);
            transition: all 0.3s;
        }

        .burger-line {
            width: 25px;
            height: 3px;
            background: white;
            border-radius: 3px;
            transition: all 0.3s;
        }

        .burger-icon.active .burger-line:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
        }

        .burger-icon.active .burger-line:nth-child(2) {
            opacity: 0;
        }

        .burger-icon.active .burger-line:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
        }

        .burger-icon:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 20px rgba(156, 39, 176, 0.4);
        }

        .nav-overlay {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            max-width: 400px;
            height: 100vh;
            background: linear-gradient(135deg, #4a148c, #311b92);
            z-index: 999;
            transition: right 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            padding: 100px 40px 40px;
            box-shadow: -5px 0 30px rgba(0,0,0,0.3);
            overflow-y: auto;
        }

        .nav-overlay.active {
            right: 0;
        }

        .nav-overlay:before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100px;
            background: rgba(255,255,255,0.1);
            z-index: -1;
        }

        .nav-header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(255,255,255,0.2);
        }

        .nav-header h3 {
            color: white;
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        .nav-header p {
            color: #bbdefb;
            font-size: 1rem;
        }

        .nav-menu {
            list-style: none;
            padding: 0;
            margin: 0 0 40px 0;
        }

        .nav-menu li {
            margin-bottom: 10px;
        }

        .nav-menu a {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 20px;
            color: white;
            text-decoration: none;
            font-size: 1.2rem;
            border-radius: 12px;
            transition: all 0.3s;
            background: rgba(255,255,255,0.1);
        }

        .nav-menu a:hover {
            background: rgba(255,255,255,0.2);
            transform: translateX(10px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .nav-menu a i {
            width: 25px;
            text-align: center;
            font-size: 1.3rem;
        }

        .nav-menu a.active {
            background: linear-gradient(135deg, #9C27B0, #673AB7);
            box-shadow: 0 5px 15px rgba(156, 39, 176, 0.3);
        }

        .user-info {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            text-align: center;
        }

        .user-avatar {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #FF9800, #FF5722);
            border-radius: 50%;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            font-weight: bold;
        }

        .user-name {
            color: white;
            font-size: 1.3rem;
            margin-bottom: 5px;
        }

        .user-level {
            color: #bbdefb;
            font-size: 0.9rem;
        }

        .nav-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .nav-btn {
            padding: 15px;
            border-radius: 12px;
            border: none;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .nav-btn.login {
            background: linear-gradient(135deg, #2196F3, #03A9F4);
            color: white;
        }

        .nav-btn.register {
            background: linear-gradient(135deg, #4CAF50, #8BC34A);
            color: white;
        }

        .nav-btn.logout {
            background: linear-gradient(135deg, #f44336, #e91e63);
            color: white;
        }

        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .nav-footer {
            margin-top: 40px;
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.2);
            color: #bbdefb;
            font-size: 0.9rem;
        }

        .vip-badge-nav {
            background: linear-gradient(45deg, #FFD700, #FF9800);
            color: #333;
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-left: auto;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∫—É—Ä—Å–∞ */
        .course-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .course-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, #9C27B0, #673AB7);
            color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(156, 39, 176, 0.3);
        }
        
        .course-progress {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
        }
        
        .lessons-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }
        
        .lesson-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: all 0.3s;
            border: 3px solid transparent;
        }
        
        .lesson-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
            border-color: #9C27B0;
        }
        
        .vip-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(45deg, #FFD700, #FF9800);
            color: #333;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.8rem;
            z-index: 2;
        }
        
        .lesson-header {
            background: linear-gradient(135deg, #9C27B0, #673AB7);
            color: white;
            padding: 25px 20px;
            position: relative;
        }
        
        .lesson-header h3 {
            margin: 0;
            font-size: 1.4rem;
        }
        
        .lesson-content {
            padding: 25px;
        }
        
        .lesson-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 0.9rem;
            color: #666;
        }
        
        .lesson-desc {
            margin-bottom: 20px;
            line-height: 1.6;
            font-size: 1.05rem;
        }
        
        .lesson-features {
            list-style: none;
            padding: 0;
            margin: 15px 0;
        }
        
        .lesson-features li {
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
            position: relative;
            padding-left: 30px;
        }
        
        .lesson-features li:before {
            content: "‚≠ê";
            position: absolute;
            left: 0;
            color: #9C27B0;
        }
        
        .lesson-status {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
        }
        
        .status-locked {
            background: #ffeb3b;
            color: #333;
        }
        
        .status-available {
            background: #2196F3;
            color: white;
        }
        
        .status-completed {
            background: #9C27B0;
            color: white;
        }
        
        .status-vip {
            background: linear-gradient(45deg, #FFD700, #FF9800);
            color: #333;
        }
        
        .theory-section {
            background: linear-gradient(135deg, #f3e5f5, #e1bee7);
            padding: 25px;
            border-radius: 10px;
            margin: 30px 0;
            border-left: 4px solid #9C27B0;
        }
        
        .objective {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
            border-left: 3px solid #9C27B0;
        }
        
        .btn-start-lesson {
            display: block;
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #9C27B0, #673AB7);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .btn-start-lesson:before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }
        
        .btn-start-lesson:hover:before {
            left: 100%;
        }
        
        .btn-start-lesson:hover {
            background: linear-gradient(135deg, #7B1FA2, #512DA8);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(156, 39, 176, 0.3);
        }
        
        .btn-start-lesson:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .btn-start-lesson:disabled:hover:before {
            display: none;
        }
        
        .wisdom-quote {
            background: linear-gradient(135deg, #fff3e0, #ffe0b2);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #FF9800;
            font-style: italic;
        }
        
        .brain-icon {
            font-size: 2rem;
            color: #9C27B0;
            margin-bottom: 15px;
        }
        
        .medal-icon {
            color: #FFD700;
            margin-right: 10px;
        }
        
        @media (max-width: 768px) {
            .lessons-grid {
                grid-template-columns: 1fr;
            }
            
            .nav-overlay {
                max-width: 100%;
                padding: 100px 20px 20px;
            }
        }
    </style>
</head>
<body>
    <!-- –®—Ç–æ—Ä–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
    <div class="burger-menu" onclick="toggleNav()">
        <div class="burger-icon" id="burgerIcon">
            <div class="burger-line"></div>
            <div class="burger-line"></div>
            <div class="burger-line"></div>
        </div>
    </div>

    <div class="nav-overlay" id="navOverlay">
        <div class="nav-header">
            <h3><i class="fas fa-crown"></i> EnglishForSeniors –í–ò–ü</h3>
            <p>–ú—É–¥—Ä–æ—Å—Ç—å –≤–æ–∑—Ä–∞—Å—Ç–∞ + –ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫</p>
        </div>

        <div id="userSection">
            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è JavaScript -->
        </div>

        <ul class="nav-menu">
            <li><a href="index.html"><i class="fas fa-home"></i> –ì–ª–∞–≤–Ω–∞—è</a></li>
            <li><a href="courses.html" class="active"><i class="fas fa-graduation-cap"></i> –í—Å–µ –∫—É—Ä—Å—ã</a></li>
            <li><a href="course.html?level=beginner"><i class="fas fa-seedling"></i> –î–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö</a></li>
            <li><a href="course.html?level=elementary"><i class="fas fa-tree"></i> –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å</a></li>
            <li><a href="test.html"><i class="fas fa-clipboard-check"></i> –¢–µ—Å—Ç —É—Ä–æ–≤–Ω—è</a></li>
            <li><a href="dictionary.html" onclick="setActive(this)"><i class="fas fa-book"></i> –°–ª–æ–≤–∞—Ä—å</a></li>
            <li><a href="test2.html" onclick="setActive(this)"><i class="fas fa-book"></i> –¢–µ—Å—Ç –≤—ã—É—á–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤</a></li>
            <li><a href="progress.html"><i class="fas fa-chart-line"></i> –ú–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å</a></li>
            <li><a href="club.html"><i class="fas fa-users"></i> –ö–ª—É–± –æ–±—â–µ–Ω–∏—è</a></li>
            <li><a href="materials.html"><i class="fas fa-book"></i> –ú–∞—Ç–µ—Ä–∏–∞–ª—ã</a></li>
            <li><a href="about.html"><i class="fas fa-info-circle"></i> –û –ø—Ä–æ–µ–∫—Ç–µ</a></li>
            <li><a href="help.html"><i class="fas fa-question-circle"></i> –ü–æ–º–æ—â—å</a></li>
        </ul>
        </ul>

        <div class="nav-buttons" id="authButtons">
        </div>

        <div class="nav-footer">
            <p>–ü—Ä–æ–µ–∫—Ç "–ú–æ—Å–∫–æ–≤—Å–∫–æ–µ –î–æ–ª–≥–æ–ª–µ—Ç–∏–µ" <i class="fas fa-heart"></i> 2025</p>
            <p>"–í–µ–∫ –∂–∏–≤–∏ ‚Äî –≤–µ–∫ —É—á–∏—Å—å!"</p>
            <p>–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¢–æ–ª—Å—Ç–µ–Ω—ë–≤–æ–π –ü–æ–ª–∏–Ω–æ–π</p>

        </div>
    </div>

    <header>
        <div class="container">
            <div class="logo">
                <h1><i class="fas fa-crown"></i> EnglishForSeniors –í–ò–ü</h1>
                <p class="motto">–í–ò–ü-–∫—É—Ä—Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ —É—Ä–æ–≤–Ω—è. "–í–µ–∫ –∂–∏–≤–∏ - –≤–µ–∫ —É—á–∏—Å—å!"</p>
            </div>
        </div>
    </header>

    <main class="course-container">
        <div class="course-header">
            <h1><i class="fas fa-crown"></i> –í–ò–ü-–∫—É—Ä—Å: –ê–Ω–≥–ª–∏–π—Å–∫–∏–π –¥–ª—è –º—É–¥—Ä—ã—Ö (Intermediate/Advanced)</h1>
            <p class="joke">"–°—Ç–∞—Ä—ã–π –∫–æ–Ω—å –±–æ—Ä–æ–∑–¥—ã –Ω–µ –∏—Å–ø–æ—Ä—Ç–∏—Ç" - –¥–æ—Å—Ç–∏–≥–∞–µ–º –≤–µ—Ä—à–∏–Ω –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ!</p>
            
            <div class="course-stats">
                <div style="display: flex; justify-content: center; gap: 30px; margin-top: 20px; flex-wrap: wrap;">
                    <div class="stat">
                        <div class="stat-number">10</div>
                        <div class="stat-label">–í–ò–ü-—É—Ä–æ–∫–æ–≤</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number">150+</div>
                        <div class="stat-label">—Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number">3</div>
                        <div class="stat-label">–º–æ–∑–≥–æ–≤—ã—Ö —à—Ç—É—Ä–º–∞</div>
                    </div>
                    <div class="stat">
                        <div class="stat-number">500+</div>
                        <div class="stat-label">–∏–¥–∏–æ–º –∏ —Ñ—Ä–∞–∑</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="wisdom-quote">
            <div class="brain-icon">
                <i class="fas fa-brain"></i>
            </div>
            <p>"–£—á–∏—Ç—å—Å—è –≤ –∑—Ä–µ–ª–æ–º –≤–æ–∑—Ä–∞—Å—Ç–µ ‚Äî –∑–Ω–∞—á–∏—Ç –Ω–µ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å —Å–ª–æ–≤–∞, –∞ –ø–æ—Å—Ç–∏–≥–∞—Ç—å –º—É–¥—Ä–æ—Å—Ç—å –¥—Ä—É–≥–æ–≥–æ —è–∑—ã–∫–∞. 
            –ö–∞–∫ –≥–æ–≤–æ—Ä–∏—Ç—Å—è, '–≤–µ–∫ –∂–∏–≤–∏ ‚Äî –≤–µ–∫ —É—á–∏—Å—å', –∞ —Å –Ω–∞–º–∏ —ç—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ!"</p>
            <p style="text-align: right; margin-top: 10px; font-weight: bold;">‚Äî –ü—Ä–æ—Ñ–µ—Å—Å–æ—Ä –õ–∏–Ω–≥–≤–æ</p>
        </div>
        
        <div class="course-progress">
            <h3><i class="fas fa-chart-line"></i> –í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å</h3>
            <div class="progress-bar" style="height: 20px; margin: 15px 0; background: #f3e5f5; border-radius: 10px; overflow: hidden;">
                <div class="progress-fill" id="course-progress" style="width: 0%; height: 100%; background: linear-gradient(90deg, #9C27B0, #673AB7); transition: width 0.5s;"></div>
            </div>
            <p id="progress-text" style="font-size: 1.1rem; font-weight: bold; color: #9C27B0;">–ù–∞—á–Ω–∏—Ç–µ –í–ò–ü-–∫—É—Ä—Å, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</p>
        </div>
        
        <div class="theory-section">
            <h2><i class="fas fa-crown"></i> –ß—Ç–æ –∂–¥–µ—Ç –≤–∞—Å –≤ —ç—Ç–æ–º –í–ò–ü-–∫—É—Ä—Å–µ:</h2>
            
            <div class="course-objectives">
                <div class="objective">
                    <h3><i class="fas fa-language"></i> –ò–¥–∏–æ–º—ã –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ª–µ–Ω–≥</h3>
                    <ul>
                        <li>–ë–æ–ª–µ–µ 500 –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö –∏–¥–∏–æ–º</li>
                        <li>–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ª–µ–Ω–≥ –∏ —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è</li>
                        <li>–§—Ä–∞–∑–æ–≤—ã–µ –≥–ª–∞–≥–æ–ª—ã –∏ –∏—Ö –Ω—é–∞–Ω—Å—ã</li>
                        <li>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –±—Ä–∏—Ç–∞–Ω—Å–∫–æ–≥–æ –∏ –∞–º–µ—Ä–∏–∫–∞–Ω—Å–∫–æ–≥–æ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ</li>
                        <li>–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è –≤—ã—Ä–∞–∂–µ–Ω–∏–π</li>
                    </ul>
                </div>
                
                <div class="objective">
                    <h3><i class="fas fa-briefcase"></i> –î–µ–ª–æ–≤–æ–µ –æ–±—â–µ–Ω–∏–µ –∏ –ø–µ—Ä–µ–ø–∏—Å–∫–∞</h3>
                    <ul>
                        <li>–í–µ–¥–µ–Ω–∏–µ –¥–µ–ª–æ–≤–æ–π –ø–µ—Ä–µ–ø–∏—Å–∫–∏</li>
                        <li>–ü–µ—Ä–µ–≥–æ–≤–æ—Ä—ã –∏ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º</li>
                        <li>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ª–µ–∫—Å–∏–∫–∞</li>
                        <li>–≠—Ç–∏–∫–µ—Ç –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–≥–æ –æ–±—â–µ–Ω–∏—è</li>
                        <li>–ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–∑—é–º–µ –∏ —Å–æ–ø—Ä–æ–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∏—Å–µ–º</li>
                    </ul>
                </div>
                
                <div class="objective">
                    <h3><i class="fas fa-film"></i> –ö—É–ª—å—Ç—É—Ä–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç</h3>
                    <ul>
                        <li>–†–∞–∑–±–æ—Ä —Ñ–∏–ª—å–º–æ–≤ –∏ —Å–µ—Ä–∏–∞–ª–æ–≤ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ</li>
                        <li>–ê–Ω–∞–ª–∏–∑ –∞–Ω–≥–ª–∏–π—Å–∫–æ–π –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä—ã</li>
                        <li>–ü–æ–Ω–∏–º–∞–Ω–∏–µ —é–º–æ—Ä–∞ –∏ —Å–∞—Ä–∫–∞–∑–º–∞</li>
                        <li>–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –∏ –∫—É–ª—å—Ç—É—Ä–Ω—ã–µ —Ä–µ–∞–ª–∏–∏</li>
                        <li>–ú—É–∑—ã–∫–∞ –∏ –ø–æ—ç–∑–∏—è –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <h2 style="color: #9C27B0; border-bottom: 3px solid #9C27B0; padding-bottom: 10px;">
            <i class="fas fa-gem"></i> –£—Ä–æ–∫–∏ –í–ò–ü-–∫—É—Ä—Å–∞
        </h2>
        <p class="joke" style="font-size: 1.2rem; margin-bottom: 30px;">
            "–î–æ—Ä–æ–≥–∞ –≤ —Ç—ã—Å—è—á—É –º–∏–ª—å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –ø–µ—Ä–≤–æ–≥–æ —à–∞–≥–∞" - –∞ –º—ã —É–∂–µ –ø—Ä–æ—à–ª–∏ –±–æ–ª—å—à—É—é —á–∞—Å—Ç—å –ø—É—Ç–∏!
        </p>
        
        <div class="lessons-grid" id="lessons-container">
            <!-- –£—Ä–æ–∫–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
        </div>
    </main>

    <footer>
        <div class="container">
            <p>–ü—Ä–æ–µ–∫—Ç "–ú–æ—Å–∫–æ–≤—Å–∫–æ–µ –î–æ–ª–≥–æ–ª–µ—Ç–∏–µ" <i class="fas fa-heart"></i> 2025</p>
            <p>"–ù–µ –∏–º–µ–π —Å—Ç–æ —Ä—É–±–ª–µ–π, –∞ –∏–º–µ–π —Å—Ç–æ –∞–Ω–≥–ª–∏–π—Å–∫–∏—Ö –∏–¥–∏–æ–º!"</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // –£—Ä–æ–∫–∏ –í–ò–ü-–∫—É—Ä—Å–∞ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ —É—Ä–æ–≤–Ω—è
        const advancedLessons = [
            {
                id: 1,
                title: "–ê–Ω–≥–ª–∏–π—Å–∫–∏–µ –∏–¥–∏–æ–º—ã - —á–∞—Å—Ç—å 1",
                description: "–†–∞–∑–±–∏—Ä–∞–µ–º –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –∏–¥–∏–æ–º—ã –∏ –∏—Ö –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ",
                duration: "55 –º–∏–Ω—É—Ç",
                exercises: 20,
                status: "available",
                completed: false,
                topics: ["Idioms about time", "Animal idioms", "Food idioms", "Body parts idioms", "Business idioms"],
                theory: "–ü–æ–Ω–∏–º–∞–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–¥–∏–æ–º –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ"
            },
            {
                id: 2,
                title: "–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ª–µ–Ω–≥ –∏ —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è",
                description: "–ê–∫—Ç—É–∞–ª—å–Ω—ã–π –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –∏–∑ —Ñ–∏–ª—å–º–æ–≤ –∏ —Å–µ—Ä–∏–∞–ª–æ–≤",
                duration: "60 –º–∏–Ω—É—Ç",
                exercises: 18,
                status: "locked",
                completed: false,
                topics: ["Youth slang", "Internet language", "TV shows expressions", "Current trends", "Social media lingo"],
                theory: "–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π –∞–Ω–≥–ª–∏–π—Å–∫–∏–π"
            },
            {
                id: 3,
                title: "–î–µ–ª–æ–≤–∞—è –ø–µ—Ä–µ–ø–∏—Å–∫–∞ –∏ —ç—Ç–∏–∫–µ—Ç",
                description: "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ–±—â–µ–Ω–∏–µ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º",
                duration: "65 –º–∏–Ω—É—Ç",
                exercises: 22,
                status: "locked",
                completed: false,
                topics: ["Business emails", "Formal letters", "Meeting requests", "Professional vocabulary", "Corporate culture"],
                theory: "–°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –¥–µ–ª–æ–≤–æ–π –ø–µ—Ä–µ–ø–∏—Å–∫–∏"
            },
            {
                id: 4,
                title: "–ú–æ–∑–≥–æ–≤–æ–π —à—Ç—É—Ä–º 1: –ò–¥–∏–æ–º—ã",
                description: "–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑—É—á–µ–Ω–Ω—ã—Ö –∏–¥–∏–æ–º",
                duration: "70 –º–∏–Ω—É—Ç",
                exercises: 25,
                status: "locked",
                completed: false,
                topics: ["Idiom usage", "Context analysis", "Creative writing", "Discussion practice", "Translation challenges"],
                theory: "–ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –∏–¥–∏–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π"
            },
            {
                id: 5,
                title: "–ë—Ä–∏—Ç–∞–Ω—Å–∫–∏–π vs –ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–π –∞–Ω–≥–ª–∏–π—Å–∫–∏–π",
                description: "–†–∞–∑–ª–∏—á–∏—è –≤ –ª–µ–∫—Å–∏–∫–µ, –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–∏ –∏ –∫—É–ª—å—Ç—É—Ä–µ",
                duration: "60 –º–∏–Ω—É—Ç",
                exercises: 20,
                status: "locked",
                completed: false,
                topics: ["Vocabulary differences", "Pronunciation", "Spelling variations", "Cultural nuances", "Regional accents"],
                theory: "–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ"
            },
            {
                id: 6,
                title: "–§—Ä–∞–∑–æ–≤—ã–µ –≥–ª–∞–≥–æ–ª—ã: –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å",
                description: "–°–ª–æ–∂–Ω—ã–µ —Ñ—Ä–∞–∑–æ–≤—ã–µ –≥–ª–∞–≥–æ–ª—ã –∏ –∏—Ö –æ—Ç—Ç–µ–Ω–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–π",
                duration: "65 –º–∏–Ω—É—Ç",
                exercises: 23,
                status: "locked",
                completed: false,
                topics: ["Advanced phrasal verbs", "Multiple meanings", "Context usage", "Synonyms", "Business phrasal verbs"],
                theory: "–ù—é–∞–Ω—Å—ã —Ñ—Ä–∞–∑–æ–≤—ã—Ö –≥–ª–∞–≥–æ–ª–æ–≤"
            },
            {
                id: 7,
                title: "–†–∞–∑–±–æ—Ä —Ñ–∏–ª—å–º–æ–≤ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ",
                description: "–ê–Ω–∞–ª–∏–∑ –¥–∏–∞–ª–æ–≥–æ–≤ –∏–∑ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö —Ñ–∏–ª—å–º–æ–≤",
                duration: "75 –º–∏–Ω—É—Ç",
                exercises: 18,
                status: "locked",
                completed: false,
                topics: ["Movie analysis", "Dialogue comprehension", "Cultural references", "Accent variations", "Subtext analysis"],
                theory: "–ü–æ–Ω–∏–º–∞–Ω–∏–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ—á–∏ –≤ –∫–∏–Ω–æ"
            },
            {
                id: 8,
                title: "–ú–æ–∑–≥–æ–≤–æ–π —à—Ç—É—Ä–º 2: –î–µ–ª–æ–≤–æ–µ –æ–±—â–µ–Ω–∏–µ",
                description: "–†–æ–ª–µ–≤—ã–µ –∏–≥—Ä—ã –∏ –∫–µ–π—Å—ã –∏–∑ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–∫—Ç–∏–∫–∏",
                duration: "80 –º–∏–Ω—É—Ç",
                exercises: 30,
                status: "locked",
                completed: false,
                topics: ["Role-playing", "Case studies", "Negotiation practice", "Presentation skills", "Conflict resolution"],
                theory: "–ü—Ä–∞–∫—Ç–∏–∫–∞ –¥–µ–ª–æ–≤–æ–≥–æ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ"
            },
            {
                id: 9,
                title: "–ê–Ω–≥–ª–∏–π—Å–∫–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞: –æ—Ç—Ä—ã–≤–∫–∏ –∏ –∞–Ω–∞–ª–∏–∑",
                description: "–ß—Ç–µ–Ω–∏–µ –∏ –æ–±—Å—É–∂–¥–µ–Ω–∏–µ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–π",
                duration: "70 –º–∏–Ω—É—Ç",
                exercises: 20,
                status: "locked",
                completed: false,
                topics: ["Literary extracts", "Style analysis", "Discussion", "Vocabulary enrichment", "Literary devices"],
                theory: "–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–Ω—ã–π –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫"
            },
            {
                id: 10,
                title: "–ò—Ç–æ–≥–æ–≤—ã–π –í–ò–ü-–ø—Ä–æ–µ–∫—Ç",
                description: "–°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º",
                duration: "90 –º–∏–Ω—É—Ç",
                exercises: 35,
                status: "locked",
                completed: false,
                topics: ["Final project", "Certificate preparation", "Portfolio creation", "Achievement recognition", "Self-evaluation"],
                theory: "–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—ã—Ö –Ω–∞–≤—ã–∫–æ–≤"
            }
        ];
        
        // –ú–∞—Å—Å–∏–≤ –∑–∞–¥–∞–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–∫–∞
        const advancedExercises = {
            1: [
                {
                    type: "multiple_choice",
                    question: "–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –∏–¥–∏–æ–º–∞ 'a blessing in disguise'?",
                    options: [
                        "–°–∫—Ä—ã—Ç–æ–µ –±–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–∏–µ",
                        "–í–∏–¥–∏–º—ã–π —É—Å–ø–µ—Ö",
                        "–û—á–µ–≤–∏–¥–Ω–∞—è –Ω–µ—É–¥–∞—á–∞",
                        "–°–ª—É—á–∞–π–Ω–∞—è —É–¥–∞—á–∞"
                    ],
                    correct: 0,
                    explanation: "–ò–¥–∏–æ–º–∞ 'a blessing in disguise' –æ–∑–Ω–∞—á–∞–µ—Ç '—Å–∫—Ä—ã—Ç–æ–µ –±–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–∏–µ' - —á—Ç–æ-—Ç–æ, —á—Ç–æ –∫–∞–∂–µ—Ç—Å—è –ø–ª–æ—Ö–∏–º, –Ω–æ –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ–ª–µ–∑–Ω—ã–º."
                },
                {
                    type: "fill_blank",
                    question: "–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø—Ä–æ–ø—É—Å–∫: 'When the storm cancelled our flight, it turned out to be a __________ in disguise because we avoided a terrible accident.'",
                    correct: "blessing",
                    explanation: "–ü—Ä–∞–≤–∏–ª—å–Ω–æ! 'a blessing in disguise' - —Å–∫—Ä—ã—Ç–æ–µ –±–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–∏–µ."
                },
                {
                    type: "multiple_choice",
                    question: "–ö–∞–∫–∞—è –∏–¥–∏–æ–º–∞ –æ–∑–Ω–∞—á–∞–µ—Ç '–æ—á–µ–Ω—å —Ä–µ–¥–∫–æ'?",
                    options: [
                        "Once in a blue moon",
                        "When pigs fly",
                        "Piece of cake",
                        "Break a leg"
                    ],
                    correct: 0,
                    explanation: "'Once in a blue moon' –æ–∑–Ω–∞—á–∞–µ—Ç '–æ—á–µ–Ω—å —Ä–µ–¥–∫–æ', '—Ä–∞–∑ –≤ —Å—Ç–æ –ª–µ—Ç'."
                },
                {
                    type: "match",
                    question: "–°–æ–ø–æ—Å—Ç–∞–≤—å—Ç–µ –∏–¥–∏–æ–º—ã —Å –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è–º–∏:",
                    pairs: [
                        { idiom: "Bite the bullet", meaning: "–°–º–∏—Ä–∏—Ç—å—Å—è —Å –Ω–µ–ø—Ä–∏—è—Ç–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–µ–π" },
                        { idiom: "Spill the beans", meaning: "–í—ã–¥–∞—Ç—å —Å–µ–∫—Ä–µ—Ç" },
                        { idiom: "Hit the nail on the head", meaning: "–ü–æ–ø–∞—Å—Ç—å –≤ —Ç–æ—á–∫—É" },
                        { idiom: "Cost an arm and a leg", meaning: "–û—á–µ–Ω—å –¥–æ—Ä–æ–≥–æ —Å—Ç–æ–∏—Ç—å" }
                    ]
                },
                {
                    type: "multiple_choice",
                    question: "–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –∏–¥–∏–æ–º–∞ 'the ball is in your court'?",
                    options: [
                        "–¢–µ–ø–µ—Ä—å –≤–∞—à–∞ –æ—á–µ—Ä–µ–¥—å –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å",
                        "–ú—è—á –Ω–∞ –≤–∞—à–µ–π —Å—Ç–æ—Ä–æ–Ω–µ –ø–æ–ª—è",
                        "–£ –≤–∞—Å –µ—Å—Ç—å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ",
                        "–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏"
                    ],
                    correct: 0,
                    explanation: "'The ball is in your court' –æ–∑–Ω–∞—á–∞–µ—Ç '—Ç–µ–ø–µ—Ä—å –≤–∞—à–∞ –æ—á–µ—Ä–µ–¥—å –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ –∏–ª–∏ –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å'."
                },
                {
                    type: "translation",
                    question: "–ü–µ—Ä–µ–≤–µ–¥–∏—Ç–µ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π: '–≠—Ç–∞ —Ä–∞–±–æ—Ç–∞ –æ–∫–∞–∑–∞–ª–∞—Å—å –ª–µ–≥–∫–æ–π –ø—Ä–æ–≥—É–ª–∫–æ–π'",
                    correct: "This job turned out to be a piece of cake",
                    variants: ["piece of cake", "walk in the park", "easy task"],
                    explanation: "–ò–¥–∏–æ–º–∞ 'a piece of cake' –æ–∑–Ω–∞—á–∞–µ—Ç '–ª–µ–≥–∫–∞—è –∑–∞–¥–∞—á–∞', '–ø—Ä–æ—â–µ –ø—Ä–æ—Å—Ç–æ–≥–æ'."
                },
                {
                    type: "true_false",
                    question: "–ò–¥–∏–æ–º–∞ 'to kill two birds with one stone' –æ–∑–Ω–∞—á–∞–µ—Ç '—Å–¥–µ–ª–∞—Ç—å –¥–≤–∞ –¥–µ–ª–∞ –æ–¥–Ω–∏–º –¥–µ–π—Å—Ç–≤–∏–µ–º'.",
                    correct: true,
                    explanation: "–í–µ—Ä–Ω–æ! –ò–¥–∏–æ–º–∞ –æ–∑–Ω–∞—á–∞–µ—Ç '—É–±–∏—Ç—å –¥–≤—É—Ö –∑–∞–π—Ü–µ–≤ –æ–¥–Ω–∏–º –≤—ã—Å—Ç—Ä–µ–ª–æ–º'."
                },
                {
                    type: "fill_blank",
                    question: "–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø—Ä–æ–ø—É—Å–∫: 'I was __________ when I found out I got the job!' (–∏–¥–∏–æ–º–∞ –æ–∑–Ω–∞—á–∞–µ—Ç '—á—Ä–µ–∑–≤—ã—á–∞–π–Ω–æ —Å—á–∞—Å—Ç–ª–∏–≤')",
                    correct: "over the moon",
                    explanation: "'Over the moon' –æ–∑–Ω–∞—á–∞–µ—Ç '—á—Ä–µ–∑–≤—ã—á–∞–π–Ω–æ —Å—á–∞—Å—Ç–ª–∏–≤', '–Ω–∞ —Å–µ–¥—å–º–æ–º –Ω–µ–±–µ'."
                },
                {
                    type: "multiple_choice",
                    question: "–ö–∞–∫–∞—è –∏–¥–∏–æ–º–∞ –ø–æ–¥—Ö–æ–¥–∏—Ç: 'After studying all night, the exam was __________.'",
                    options: [
                        "a piece of cake",
                        "the last straw",
                        "a blessing in disguise",
                        "a red herring"
                    ],
                    correct: 0,
                    explanation: "'A piece of cake' –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç - —ç–∫–∑–∞–º–µ–Ω –±—ã–ª –ª–µ–≥–∫–∏–º –ø–æ—Å–ª–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏."
                },
                {
                    type: "explanation",
                    question: "–û–±—ä—è—Å–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–¥–∏–æ–º—ã 'to burn the midnight oil' –∏ –ø—Ä–∏–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä.",
                    sample: "–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç '—Ä–∞–±–æ—Ç–∞—Ç—å –¥–æ–ø–æ–∑–¥–Ω–∞', '–∑–∞—Å–∏–∂–∏–≤–∞—Ç—å—Å—è –¥–æ –ø–æ–∑–¥–Ω–µ–π –Ω–æ—á–∏'. –ü—Ä–∏–º–µ—Ä: 'I had to burn the midnight oil to finish the project.'"
                }
            ],
            2: [
                {
                    type: "multiple_choice",
                    question: "–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —Å–ª–µ–Ω–≥–æ–≤–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ 'ghosting'?",
                    options: [
                        "–†–µ–∑–∫–æ –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å –æ–±—â–µ–Ω–∏–µ –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏–π",
                        "–ë—ã—Ç—å –æ—á–µ–Ω—å –∞–∫—Ç–∏–≤–Ω—ã–º –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö",
                        "–°–æ–∑–¥–∞–≤–∞—Ç—å –º–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–æ–≤",
                        "–ü–æ—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —Ñ–æ—Ç–æ"
                    ],
                    correct: 0,
                    explanation: "'Ghosting' –æ–∑–Ω–∞—á–∞–µ—Ç '–∏—Å—á–µ–∑–Ω—É—Ç—å', '–ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å –æ–±—â–µ–Ω–∏–µ –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏–π'."
                },
                {
                    type: "fill_blank",
                    question: "–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø—Ä–æ–ø—É—Å–∫ —Å–ª–µ–Ω–≥–æ–≤—ã–º –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º: 'That movie was __________!' (–æ–∑–Ω–∞—á–∞–µ—Ç '–ø–æ—Ç—Ä—è—Å–∞—é—â–∏–π')",
                    correct: "lit",
                    explanation: "'Lit' - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ª–µ–Ω–≥, –æ–∑–Ω–∞—á–∞—é—â–∏–π '–ø–æ—Ç—Ä—è—Å–∞—é—â–∏–π', '–∫—Ä—É—Ç–æ–π'."
                },
                {
                    type: "match",
                    question: "–°–æ–ø–æ—Å—Ç–∞–≤—å—Ç–µ —Å–ª–µ–Ω–≥–æ–≤—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è —Å –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è–º–∏:",
                    pairs: [
                        { idiom: "Salty", meaning: "–†–∞–∑–¥—Ä–∞–∂–µ–Ω–Ω—ã–π, –æ–±–∏–∂–µ–Ω–Ω—ã–π" },
                        { idiom: "Savage", meaning: "–ñ–µ—Å—Ç–æ–∫–∏–π, –Ω–æ –≤ –∫—Ä—É—Ç–æ–º —Å–º—ã—Å–ª–µ" },
                        { idiom: "FOMO", meaning: "–°—Ç—Ä–∞—Ö —á—Ç–æ-—Ç–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å" },
                        { idiom: "YOLO", meaning: "–ñ–∏–≤–µ—à—å —Ç–æ–ª—å–∫–æ —Ä–∞–∑" }
                    ]
                },
                {
                    type: "multiple_choice",
                    question: "–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç 'to flex' –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º —Å–ª–µ–Ω–≥–µ?",
                    options: [
                        "–•–≤–∞—Å—Ç–∞—Ç—å—Å—è, –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–≤–æ–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è",
                        "–ó–∞–Ω–∏–º–∞—Ç—å—Å—è —Å–ø–æ—Ä—Ç–æ–º",
                        "–ë—ã—Ç—å –≥–∏–±–∫–∏–º",
                        "–û—Ç–¥—ã—Ö–∞—Ç—å"
                    ],
                    correct: 0,
                    explanation: "'To flex' –æ–∑–Ω–∞—á–∞–µ—Ç '—Ö–≤–∞—Å—Ç–∞—Ç—å—Å—è', '–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–≤–æ–∏ —É—Å–ø–µ—Ö–∏' (–æ—Å–æ–±–µ–Ω–Ω–æ –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö)."
                }
            ],
            3: [
                {
                    type: "multiple_choice",
                    question: "–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—á–∞—Ç—å –¥–µ–ª–æ–≤–æ–µ –ø–∏—Å—å–º–æ –Ω–µ–∑–Ω–∞–∫–æ–º–æ–º—É –∞–¥—Ä–µ—Å–∞—Ç—É?",
                    options: [
                        "Dear Sir/Madam,",
                        "Hey there!",
                        "To whom it may concern,",
                        "Hello friend,"
                    ],
                    correct: 0,
                    explanation: "–í –¥–µ–ª–æ–≤–æ–π –ø–µ—Ä–µ–ø–∏—Å–∫–µ —Å –Ω–µ–∑–Ω–∞–∫–æ–º—ã–º —á–µ–ª–æ–≤–µ–∫–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 'Dear Sir/Madam,'."
                },
                {
                    type: "fill_blank",
                    question: "–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø—Ä–æ–ø—É—Å–∫ –≤ –¥–µ–ª–æ–≤–æ–º –ø–∏—Å—å–º–µ: 'I am writing to __________ about the upcoming meeting.'",
                    correct: "inquire",
                    explanation: "'To inquire about' - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ñ—Ä–∞–∑–∞ –≤ –¥–µ–ª–æ–≤–æ–π –ø–µ—Ä–µ–ø–∏—Å–∫–µ."
                }
            ]
        };
        
        // –¢–µ–∫—É—â–∏–π —É—Ä–æ–∫ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
        let currentLessonId = null;
        let currentExerciseIndex = 0;
        let userAnswers = [];
        let score = 0;
        
        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à—Ç–æ—Ä–∫–æ–π
        function toggleNav() {
            const overlay = document.getElementById('navOverlay');
            const burger = document.getElementById('burgerIcon');
            
            overlay.classList.toggle('active');
            burger.classList.toggle('active');
            
            // –ë–ª–æ–∫–∏—Ä—É–µ–º –ø—Ä–æ–∫—Ä—É—Ç–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–æ–π —à—Ç–æ—Ä–∫–µ
            document.body.style.overflow = overlay.classList.contains('active') ? 'hidden' : '';
        }

        function closeNav() {
            const overlay = document.getElementById('navOverlay');
            const burger = document.getElementById('burgerIcon');
            
            overlay.classList.remove('active');
            burger.classList.remove('active');
            document.body.style.overflow = '';
        }

        function setActive(element) {
            document.querySelectorAll('.nav-menu a').forEach(link => {
                link.classList.remove('active');
            });
            element.classList.add('active');
            closeNav();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –≤ —à—Ç–æ—Ä–∫–µ
        function updateNavUserInfo() {
            const user = JSON.parse(localStorage.getItem('currentUser'));
            const userSection = document.getElementById('userSection');
            const authButtons = document.getElementById('authButtons');
            
            if (user) {
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
                userSection.innerHTML = `
                    <div class="user-info">
                        <div class="user-avatar" style="background: linear-gradient(135deg, #FFD700, #FF9800);">
                            ${user.username ? user.username.charAt(0).toUpperCase() : '–í'}
                        </div>
                        <div class="user-name">${user.username || '–í–ò–ü-–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'}</div>
                        <div class="user-level">–í–ò–ü-—É—Ä–æ–≤–µ–Ω—å: ${user.level ? user.level.toUpperCase() : '–ü–†–û–î–í–ò–ù–£–¢–´–ô'}</div>
                        ${user.progress && user.progress.advanced ? 
                            `<div style="margin-top: 10px; color: #FFD700;">
                                <i class="fas fa-trophy"></i> –ó–∞–≤–µ—Ä—à–µ–Ω–æ —É—Ä–æ–∫–æ–≤: ${user.progress.advanced.completedLessons || 0}/10
                            </div>` : ''}
                    </div>
                `;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –≤—ã—Ö–æ–¥–∞
                authButtons.innerHTML = `
                    <button class="nav-btn logout" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> –í—ã–π—Ç–∏
                    </button>
                `;
            } else {
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫–∏ –≤—Ö–æ–¥–∞/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
                userSection.innerHTML = `
                    <div class="user-info">
                        <div class="user-avatar" style="background: linear-gradient(135deg, #9C27B0, #673AB7);">
                            ?
                        </div>
                        <div class="user-name">–ì–æ—Å—Ç—å</div>
                        <div class="user-level">–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –í–ò–ü-–∫—É—Ä—Å—É –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É</div>
                    </div>
                `;
                
                authButtons.innerHTML = `
                    <a href="login.html" class="nav-btn login" onclick="closeNav()">
                        <i class="fas fa-sign-in-alt"></i> –í–æ–π—Ç–∏
                    </a>
                    <a href="register.html" class="nav-btn register" onclick="closeNav()">
                        <i class="fas fa-user-plus"></i> –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                    </a>
                `;
            }
        }

        // –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
        function logout() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?')) {
                localStorage.removeItem('currentUser');
                updateNavUserInfo();
                closeNav();
                window.location.reload();
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –í–ò–ü-–∫—É—Ä—Å–∞
        function initAdvancedCourse() {
            const user = JSON.parse(localStorage.getItem('currentUser'));
            const lessonsContainer = document.getElementById('lessons-container');
            
            if (!user) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –í–ò–ü-–∫—É—Ä—Å—É');
                window.location.href = 'login.html';
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Ä–æ–≤–µ–Ω—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const allowedLevels = ['intermediate', 'upper-intermediate', 'advanced'];
            if (user.level && !allowedLevels.includes(user.level)) {
                alert('–≠—Ç–æ—Ç –í–ò–ü-–∫—É—Ä—Å –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ —É—Ä–æ–≤–Ω—è. –í–∞—à —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å: ' + user.level);
                window.location.href = 'courses.html';
                return;
            }
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            let completedLessons = 0;
            if (user.progress && user.progress.advanced) {
                completedLessons = user.progress.advanced.completedLessons || 0;
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
            const progressPercent = (completedLessons / advancedLessons.length) * 100;
            const progressBar = document.getElementById('course-progress');
            const progressText = document.getElementById('progress-text');
            
            if (progressBar) {
                progressBar.style.width = `${progressPercent}%`;
            }
            
            if (progressText) {
                progressText.textContent = 
                    `–í—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏ ${completedLessons} –∏–∑ ${advancedLessons.length} –í–ò–ü-—É—Ä–æ–∫–æ–≤ (${Math.round(progressPercent)}%)`;
                
                if (completedLessons > 0) {
                    progressText.innerHTML += ` <span class="medal-icon">üèÜ</span>`;
                }
            }
            
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —É—Ä–æ–∫–∏
            if (lessonsContainer) {
                lessonsContainer.innerHTML = '';
                
                advancedLessons.forEach((lesson, index) => {
                    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Ç–∞—Ç—É—Å —É—Ä–æ–∫–∞
                    let status = "locked";
                    let statusText = "–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω";
                    let statusClass = "status-locked";
                    
                    if (index === 0) {
                        status = "available";
                        statusText = "–í–ò–ü –¥–æ—Å—Ç—É–ø–µ–Ω";
                        statusClass = "status-vip";
                    } else if (index <= completedLessons) {
                        status = "completed";
                        statusText = "–í–ò–ü –∑–∞–≤–µ—Ä—à–µ–Ω";
                        statusClass = "status-completed";
                    } else if (index === completedLessons + 1) {
                        status = "available";
                        statusText = "–í–ò–ü –¥–æ—Å—Ç—É–ø–µ–Ω";
                        statusClass = "status-vip";
                    }
                    
                    const lessonHTML = `
                        <div class="lesson-card">
                            <div class="vip-badge">–í–ò–ü</div>
                            <div class="lesson-header">
                                <h3>–í–ò–ü-—É—Ä–æ–∫ ${lesson.id}: ${lesson.title}</h3>
                                <span class="lesson-status ${statusClass}">${statusText}</span>
                            </div>
                            <div class="lesson-content">
                                <div class="lesson-stats">
                                    <span><i class="fas fa-clock"></i> ${lesson.duration}</span>
                                    <span><i class="fas fa-brain"></i> ${lesson.exercises} —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π</span>
                                </div>
                                <p class="lesson-desc">${lesson.description}</p>
                                
                                <h4><i class="fas fa-star"></i> –ö–ª—é—á–µ–≤—ã–µ —Ç–µ–º—ã:</h4>
                                <ul class="lesson-features">
                                    ${lesson.topics.map(topic => `<li>${topic}</li>`).join('')}
                                </ul>
                                
                                <p><strong><i class="fas fa-book-open"></i> –¢–µ–æ—Ä–∏—è:</strong> ${lesson.theory}</p>
                                
                                <button class="btn-start-lesson" 
                                        onclick="startAdvancedLesson(${lesson.id})"
                                        ${status === 'locked' ? 'disabled' : ''}>
                                    ${status === 'completed' ? 
                                        '<i class="fas fa-award"></i> –í–ò–ü —É—Ä–æ–∫ –∑–∞–≤–µ—Ä—à–µ–Ω' : 
                                        '<i class="fas fa-crown"></i> –ù–∞—á–∞—Ç—å –í–ò–ü —É—Ä–æ–∫'}
                                </button>
                                
                                ${index < completedLessons ? `
                                    <div class="lesson-preview" style="background: #f3e5f5; padding: 15px; border-radius: 8px; margin-top: 15px;">
                                        <p><i class="fas fa-trophy"></i> –í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∏–ª–∏ —ç—Ç–æ—Ç –í–ò–ü-—É—Ä–æ–∫!</p>
                                        <p style="font-size: 0.9rem; margin-top: 5px;">–í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å: ${Math.round((index + 1) / advancedLessons.length * 100)}%</p>
                                    </div>
                                ` : ''}
                            </div>
                        </div>
                    `;
                    
                    lessonsContainer.innerHTML += lessonHTML;
                });
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            updateNavUserInfo();
        }
        
        // –ù–∞—á–∞—Ç—å –í–ò–ü-—É—Ä–æ–∫
        function startAdvancedLesson(lessonId) {
            const lesson = advancedLessons.find(l => l.id === lessonId);
            currentLessonId = lessonId;
            currentExerciseIndex = 0;
            userAnswers = [];
            score = 0;
            
            // –ó–∞–∫—Ä—ã–≤–∞–µ–º —à—Ç–æ—Ä–∫—É –µ—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç–∞
            closeNav();
            
            // –°–æ–∑–¥–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –í–ò–ü-—É—Ä–æ–∫–æ–º
            const modalHTML = `
                <div id="lesson-modal" style="
                    position: fixed;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                    background: rgba(0,0,0,0.9);
                    z-index: 2000;
                    overflow-y: auto;
                    padding: 20px;
                ">
                    <div style="
                        background: white;
                        max-width: 800px;
                        margin: 40px auto;
                        border-radius: 15px;
                        padding: 30px;
                        position: relative;
                        box-shadow: 0 20px 50px rgba(156, 39, 176, 0.3);
                    ">
                        <button onclick="closeAdvancedLessonModal()" style="
                            position: absolute;
                            top: 15px;
                            right: 15px;
                            background: #9C27B0;
                            color: white;
                            border: none;
                            width: 40px;
                            height: 40px;
                            border-radius: 50%;
                            font-size: 1.5rem;
                            cursor: pointer;
                            z-index: 100;
                        ">√ó</button>
                        
                        <div style="background: linear-gradient(135deg, #9C27B0, #673AB7); color: white; padding: 20px; border-radius: 10px; margin: -30px -30px 30px -30px;">
                            <h2><i class="fas fa-crown"></i> –í–ò–ü-—É—Ä–æ–∫ ${lesson.id}: ${lesson.title}</h2>
                            <p class="joke" style="color: rgba(255,255,255,0.9);">"–í–µ–∫ –∂–∏–≤–∏ - –≤–µ–∫ —É—á–∏—Å—å!" - –¥–æ—Å—Ç–∏–≥–∞–µ–º –Ω–æ–≤—ã—Ö –≤—ã—Å–æ—Ç –≤ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º.</p>
                            <div id="lesson-progress" style="margin-top: 15px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                                    <span>–ó–∞–¥–∞–Ω–∏–µ 1 –∏–∑ ${lesson.exercises}</span>
                                    <span id="score-display">–°—á–µ—Ç: 0/${lesson.exercises}</span>
                                </div>
                                <div style="height: 10px; background: rgba(255,255,255,0.2); border-radius: 5px; overflow: hidden;">
                                    <div id="progress-bar" style="width: ${(1/lesson.exercises)*100}%; height: 100%; background: white; transition: width 0.3s;"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="theory-section" style="background: #f3e5f5; border-left: 4px solid #9C27B0; margin-bottom: 25px;">
                            <h3><i class="fas fa-gem"></i> –í–ò–ü-—Ç–µ–æ—Ä–∏—è: ${lesson.theory}</h3>
                            
                            <div style="margin: 20px 0; padding: 20px; background: white; border-radius: 10px; border: 2px solid #e1bee7;">
                                <h4><i class="fas fa-lightbulb"></i> –ö–ª—é—á–µ–≤—ã–µ –ø–æ–Ω—è—Ç–∏—è:</h4>
                                ${lesson.topics.map(topic => `<p style="margin: 8px 0; padding-left: 20px; position: relative;">
                                    <span style="position: absolute; left: 0; color: #9C27B0;">‚Ä¢</span> ${topic}
                                </p>`).join('')}
                            </div>
                        </div>
                        
                        <div id="exercise-container">
                            <!-- –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∑–¥–µ—Å—å -->
                        </div>
                        
                        <div class="wisdom-quote" style="margin: 25px 0; display: none;" id="completion-message">
                            <p><i class="fas fa-quote-left"></i> –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –∑–∞–≤–µ—Ä—à–∏–ª–∏ –≤—Å–µ –∑–∞–¥–∞–Ω–∏—è —ç—Ç–æ–≥–æ —É—Ä–æ–∫–∞. 
                            –ó–Ω–∞–Ω–∏–µ –∏–¥–∏–æ–º ‚Äî —ç—Ç–æ –∫–ª—é—á –∫ –ø–æ–Ω–∏–º–∞–Ω–∏—é –∫—É–ª—å—Ç—É—Ä—ã –∏ –º—ã—à–ª–µ–Ω–∏—è –Ω–æ—Å–∏—Ç–µ–ª–µ–π —è–∑—ã–∫–∞. 
                            –ö–∞–∂–¥–∞—è –∏–¥–∏–æ–º–∞ ‚Äî —ç—Ç–æ –º–∞–ª–µ–Ω—å–∫–∞—è –∏—Å—Ç–æ—Ä–∏—è, –æ—Ç—Ä–∞–∂–∞—é—â–∞—è –º—É–¥—Ä–æ—Å—Ç—å –ø–æ–∫–æ–ª–µ–Ω–∏–π. <i class="fas fa-quote-right"></i></p>
                        </div>
                        
                        <div style="display: flex; justify-content: space-between; margin-top: 30px; padding-top: 20px; border-top: 2px solid #eee;">
                            <button id="prev-btn" class="btn-secondary" onclick="previousExercise()" style="
                                padding: 12px 25px;
                                background: #f5f5f5;
                                border: 2px solid #ddd;
                                border-radius: 8px;
                                font-weight: bold;
                                cursor: pointer;
                                display: none;
                            ">
                                <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥
                            </button>
                            <button id="next-btn" class="btn-primary" onclick="nextExercise()" style="
                                padding: 12px 25px;
                                background: linear-gradient(135deg, #9C27B0, #673AB7);
                                color: white;
                                border: none;
                                border-radius: 8px;
                                font-weight: bold;
                                cursor: pointer;
                            ">
                                –°–ª–µ–¥—É—é—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ <i class="fas fa-arrow-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', modalHTML);
            loadExercise(currentExerciseIndex);
        }
        
        // –ó–∞–≥—Ä—É–∑–∏—Ç—å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ
        function loadExercise(exerciseIndex) {
            const exercises = advancedExercises[currentLessonId];
            if (!exercises || exerciseIndex >= exercises.length) {
                showCompletion();
                return;
            }
            
            const exercise = exercises[exerciseIndex];
            const container = document.getElementById('exercise-container');
            const progressBar = document.getElementById('progress-bar');
            const scoreDisplay = document.getElementById('score-display');
            const lessonProgress = document.getElementById('lesson-progress');
            const lesson = advancedLessons.find(l => l.id === currentLessonId);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
            if (progressBar) {
                progressBar.style.width = `${((exerciseIndex + 1) / lesson.exercises) * 100}%`;
            }
            
            if (scoreDisplay) {
                scoreDisplay.textContent = `–°—á–µ—Ç: ${score}/${lesson.exercises}`;
            }
            
            if (lessonProgress) {
                lessonProgress.querySelector('span').textContent = `–ó–∞–¥–∞–Ω–∏–µ ${exerciseIndex + 1} –∏–∑ ${lesson.exercises}`;
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            
            if (prevBtn) {
                prevBtn.style.display = exerciseIndex > 0 ? 'block' : 'none';
            }
            
            if (nextBtn) {
                nextBtn.textContent = exerciseIndex < exercises.length - 1 ? '–°–ª–µ–¥—É—é—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ' : '–ó–∞–≤–µ—Ä—à–∏—Ç—å —É—Ä–æ–∫';
                nextBtn.innerHTML = exerciseIndex < exercises.length - 1 ? 
                    '–°–ª–µ–¥—É—é—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ <i class="fas fa-arrow-right"></i>' : 
                    '<i class="fas fa-trophy"></i> –ó–∞–≤–µ—Ä—à–∏—Ç—å —É—Ä–æ–∫';
            }
            
            // –°–æ–∑–¥–∞–µ–º —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
            let exerciseHTML = `
                <div class="exercise-section" style="background: linear-gradient(135deg, #fff3e0, #ffe0b2); padding: 20px; border-radius: 10px; margin: 20px 0; border: 2px solid #FF9800;">
                    <h3 style="color: #E65100;"><i class="fas fa-brain"></i> –í–ò–ü-–∑–∞–¥–∞–Ω–∏–µ ${exerciseIndex + 1}/${exercises.length}</h3>
                    
                    <div style="background: white; padding: 20px; border-radius: 8px; margin: 15px 0;">
                        <h4 style="margin-bottom: 20px; font-size: 1.2rem;">${exercise.question}</h4>
            `;
            
            if (exercise.type === "multiple_choice") {
                exerciseHTML += `
                    <div id="options-container" style="display: grid; grid-template-columns: 1fr; gap: 10px;">
                        ${exercise.options.map((option, index) => `
                            <div class="option-btn" data-index="${index}" onclick="selectAnswer(this, ${index})" style="
                                padding: 15px;
                                background: white;
                                border: 2px solid #ddd;
                                border-radius: 8px;
                                cursor: pointer;
                                transition: all 0.3s;
                                font-size: 1.1rem;
                            ">
                                ${option}
                            </div>
                        `).join('')}
                    </div>
                `;
            } else if (exercise.type === "fill_blank") {
                exerciseHTML += `
                    <div style="margin: 20px 0;">
                        <input type="text" id="answer-input" style="
                            width: 100%;
                            padding: 15px;
                            border: 2px solid #ddd;
                            border-radius: 8px;
                            font-size: 1.1rem;
                            margin-bottom: 15px;
                        " placeholder="–í–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç –∑–¥–µ—Å—å...">
                        <button onclick="checkFillBlank()" style="
                            padding: 12px 25px;
                            background: #4CAF50;
                            color: white;
                            border: none;
                            border-radius: 8px;
                            font-weight: bold;
                            cursor: pointer;
                        ">
                            <i class="fas fa-check"></i> –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
                        </button>
                    </div>
                `;
            } else if (exercise.type === "match") {
                exerciseHTML += `
                    <div id="match-container" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div id="idioms-list" style="display: flex; flex-direction: column; gap: 10px;">
                            ${exercise.pairs.map((pair, index) => `
                                <div class="idiom-item" data-id="${index}" draggable="true" ondragstart="dragStart(event)" style="
                                    padding: 15px;
                                    background: #f5f5f5;
                                    border: 2px dashed #ddd;
                                    border-radius: 8px;
                                    cursor: move;
                                    font-weight: bold;
                                ">
                                    ${pair.idiom}
                                </div>
                            `).join('')}
                        </div>
                        <div id="meanings-list" style="display: flex; flex-direction: column; gap: 10px;">
                            ${shuffleArray([...exercise.pairs]).map((pair, index) => `
                                <div class="meaning-item" data-id="${pair.idiom}" ondragover="dragOver(event)" ondrop="drop(event)" style="
                                    padding: 15px;
                                    background: #e8f5e8;
                                    border: 2px dashed #4CAF50;
                                    border-radius: 8px;
                                    min-height: 60px;
                                ">
                                    ${pair.meaning}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                    <div style="margin-top: 20px;">
                        <button onclick="checkMatching()" style="
                            padding: 12px 25px;
                            background: #4CAF50;
                            color: white;
                            border: none;
                            border-radius: 8px;
                            font-weight: bold;
                            cursor: pointer;
                        ">
                            <i class="fas fa-check"></i> –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è
                        </button>
                    </div>
                `;
            } else if (exercise.type === "translation") {
                exerciseHTML += `
                    <div style="margin: 20px 0;">
                        <textarea id="translation-input" style="
                            width: 100%;
                            height: 100px;
                            padding: 15px;
                            border: 2px solid #ddd;
                            border-radius: 8px;
                            font-size: 1.1rem;
                            margin-bottom: 15px;
                            resize: vertical;
                        " placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–µ—Ä–µ–≤–æ–¥ –∑–¥–µ—Å—å..."></textarea>
                        <div style="display: flex; gap: 10px;">
                            <button onclick="checkTranslation()" style="
                                padding: 12px 25px;
                                background: #4CAF50;
                                color: white;
                                border: none;
                                border-radius: 8px;
                                font-weight: bold;
                                cursor: pointer;
                                flex: 1;
                            ">
                                <i class="fas fa-check"></i> –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
                            </button>
                            <button onclick="showTranslationHint()" style="
                                padding: 12px 25px;
                                background: #2196F3;
                                color: white;
                                border: none;
                                border-radius: 8px;
                                font-weight: bold;
                                cursor: pointer;
                                flex: 1;
                            ">
                                <i class="fas fa-lightbulb"></i> –ü–æ–¥—Å–∫–∞–∑–∫–∞
                            </button>
                        </div>
                    </div>
                `;
            } else if (exercise.type === "true_false") {
                exerciseHTML += `
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 20px 0;">
                        <button onclick="selectTrueFalse(true)" style="
                            padding: 20px;
                            background: white;
                            border: 2px solid #4CAF50;
                            border-radius: 8px;
                            font-size: 1.2rem;
                            font-weight: bold;
                            cursor: pointer;
                            color: #4CAF50;
                        ">
                            <i class="fas fa-check-circle"></i> –í–µ—Ä–Ω–æ
                        </button>
                        <button onclick="selectTrueFalse(false)" style="
                            padding: 20px;
                            background: white;
                            border: 2px solid #f44336;
                            border-radius: 8px;
                            font-size: 1.2rem;
                            font-weight: bold;
                            cursor: pointer;
                            color: #f44336;
                        ">
                            <i class="fas fa-times-circle"></i> –ù–µ–≤–µ—Ä–Ω–æ
                        </button>
                    </div>
                `;
            } else if (exercise.type === "explanation") {
                exerciseHTML += `
                    <div style="margin: 20px 0;">
                        <textarea id="explanation-input" style="
                            width: 100%;
                            height: 150px;
                            padding: 15px;
                            border: 2px solid #ddd;
                            border-radius: 8px;
                            font-size: 1.1rem;
                            margin-bottom: 15px;
                            resize: vertical;
                        " placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∏ –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è..."></textarea>
                        <div style="display: flex; gap: 10px;">
                            <button onclick="checkExplanation()" style="
                                padding: 12px 25px;
                                background: #4CAF50;
                                color: white;
                                border: none;
                                border-radius: 8px;
                                font-weight: bold;
                                cursor: pointer;
                                flex: 1;
                            ">
                                <i class="fas fa-check"></i> –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
                            </button>
                            <button onclick="showExplanationExample()" style="
                                padding: 12px 25px;
                                background: #2196F3;
                                color: white;
                                border: none;
                                border-radius: 8px;
                                font-weight: bold;
                                cursor: pointer;
                                flex: 1;
                            ">
                                <i class="fas fa-eye"></i> –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞
                            </button>
                        </div>
                    </div>
                `;
            }
            
            exerciseHTML += `
                        <div id="exercise-feedback" style="margin-top: 20px; display: none;">
                            <!-- Feedback will be shown here -->
                        </div>
                    </div>
                </div>
            `;
            
            container.innerHTML = exerciseHTML;
            
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π –æ—Ç–≤–µ—Ç, –µ—Å–ª–∏ –æ–Ω –µ—Å—Ç—å
            if (userAnswers[exerciseIndex] !== undefined) {
                restoreAnswer(exerciseIndex);
            }
        }
        
        // –ü–µ—Ä–µ–º–µ—à–∞—Ç—å –º–∞—Å—Å–∏–≤
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
        
        // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–π –æ—Ç–≤–µ—Ç
        function restoreAnswer(exerciseIndex) {
            const answer = userAnswers[exerciseIndex];
            const exercise = advancedExercises[currentLessonId][exerciseIndex];
            
            if (exercise.type === "multiple_choice") {
                const optionBtn = document.querySelector(`.option-btn[data-index="${answer}"]`);
                if (optionBtn) {
                    optionBtn.style.background = '#4CAF50';
                    optionBtn.style.color = 'white';
                }
            } else if (exercise.type === "fill_blank") {
                const input = document.getElementById('answer-input');
                if (input) input.value = answer;
            } else if (exercise.type === "translation") {
                const input = document.getElementById('translation-input');
                if (input) input.value = answer;
            } else if (exercise.type === "true_false") {
                // –ö–Ω–æ–ø–∫–∏ —É–∂–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –≤—ã–±–æ—Ä
            } else if (exercise.type === "explanation") {
                const input = document.getElementById('explanation-input');
                if (input) input.value = answer;
            }
        }
        
        // –í—ã–±–æ—Ä –æ—Ç–≤–µ—Ç–∞ –¥–ª—è multiple choice
        function selectAnswer(button, index) {
            const buttons = button.parentElement.querySelectorAll('.option-btn');
            buttons.forEach(btn => {
                btn.style.background = 'white';
                btn.style.color = '';
            });
            button.style.background = '#4CAF50';
            button.style.color = 'white';
            
            userAnswers[currentExerciseIndex] = index;
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ fill blank
        function checkFillBlank() {
            const input = document.getElementById('answer-input');
            const answer = input.value.trim().toLowerCase();
            const exercise = advancedExercises[currentLessonId][currentExerciseIndex];
            
            userAnswers[currentExerciseIndex] = answer;
            
            const feedback = document.getElementById('exercise-feedback');
            if (answer === exercise.correct.toLowerCase()) {
                score++;
                feedback.innerHTML = `
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 8px;">
                        <p style="color: #2E7D32; font-weight: bold;">
                            <i class="fas fa-check-circle"></i> –ü—Ä–∞–≤–∏–ª—å–Ω–æ! ${exercise.explanation}
                        </p>
                    </div>
                `;
                feedback.style.display = 'block';
            } else {
                feedback.innerHTML = `
                    <div style="background: #ffebee; padding: 15px; border-radius: 8px;">
                        <p style="color: #c62828; font-weight: bold;">
                            <i class="fas fa-times-circle"></i> –ù–µ —Å–æ–≤—Å–µ–º –≤–µ—Ä–Ω–æ. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: "${exercise.correct}"
                        </p>
                        <p style="margin-top: 10px;">${exercise.explanation}</p>
                    </div>
                `;
                feedback.style.display = 'block';
            }
            
            updateScoreDisplay();
        }
        
        // Drag and drop –¥–ª—è matching
        let draggedItem = null;
        
        function dragStart(event) {
            draggedItem = event.target;
            event.dataTransfer.setData('text/plain', event.target.dataset.id);
        }
        
        function dragOver(event) {
            event.preventDefault();
        }
        
        function drop(event) {
            event.preventDefault();
            const meaningItem = event.target;
            const idiomId = event.dataTransfer.getData('text/plain');
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ
            const matches = userAnswers[currentExerciseIndex] || {};
            matches[meaningItem.dataset.id] = idiomId;
            userAnswers[currentExerciseIndex] = matches;
            
            // –í–∏–∑—É–∞–ª—å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ
            meaningItem.style.background = '#e1bee7';
            meaningItem.innerHTML = `${meaningItem.textContent} <br><small style="color: #9C27B8;">‚Üê ${draggedItem.textContent}</small>`;
        }
        
        function checkMatching() {
            const exercise = advancedExercises[currentLessonId][currentExerciseIndex];
            const matches = userAnswers[currentExerciseIndex] || {};
            let correctCount = 0;
            
            exercise.pairs.forEach((pair, index) => {
                if (matches[pair.idiom] === index.toString()) {
                    correctCount++;
                }
            });
            
            const feedback = document.getElementById('exercise-feedback');
            if (correctCount === exercise.pairs.length) {
                score++;
                feedback.innerHTML = `
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 8px;">
                        <p style="color: #2E7D32; font-weight: bold;">
                            <i class="fas fa-check-circle"></i> –û—Ç–ª–∏—á–Ω–æ! –í—Å–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –≤–µ—Ä–Ω—ã!
                        </p>
                        <p style="margin-top: 10px;">${exercise.explanation || '–í—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–æ–ø–æ—Å—Ç–∞–≤–∏–ª–∏ –≤—Å–µ –∏–¥–∏–æ–º—ã —Å –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è–º–∏.'}</p>
                    </div>
                `;
            } else {
                feedback.innerHTML = `
                    <div style="background: #ffebee; padding: 15px; border-radius: 8px;">
                        <p style="color: #c62828; font-weight: bold;">
                            <i class="fas fa-times-circle"></i> –í—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–æ–ø–æ—Å—Ç–∞–≤–∏–ª–∏ ${correctCount} –∏–∑ ${exercise.pairs.length}
                        </p>
                        <p style="margin-top: 10px;">–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è:</p>
                        ${exercise.pairs.map(pair => `
                            <p style="margin: 5px 0; padding-left: 20px;">
                                <strong>${pair.idiom}</strong> ‚Üí ${pair.meaning}
                            </p>
                        `).join('')}
                    </div>
                `;
            }
            feedback.style.display = 'block';
            updateScoreDisplay();
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–∞
        function checkTranslation() {
            const input = document.getElementById('translation-input');
            const answer = input.value.trim().toLowerCase();
            const exercise = advancedExercises[currentLessonId][currentExerciseIndex];
            
            userAnswers[currentExerciseIndex] = answer;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
            let isCorrect = false;
            if (exercise.variants) {
                isCorrect = exercise.variants.some(variant => 
                    answer.includes(variant.toLowerCase())
                );
            } else {
                isCorrect = answer.includes(exercise.correct.toLowerCase());
            }
            
            const feedback = document.getElementById('exercise-feedback');
            if (isCorrect) {
                score++;
                feedback.innerHTML = `
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 8px;">
                        <p style="color: #2E7D32; font-weight: bold;">
                            <i class="fas fa-check-circle"></i> –û—Ç–ª–∏—á–Ω–æ! –í–∞—à –ø–µ—Ä–µ–≤–æ–¥ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π.
                        </p>
                        <p style="margin-top: 10px;">–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç: "${exercise.correct}"</p>
                        <p style="margin-top: 10px;">${exercise.explanation}</p>
                    </div>
                `;
            } else {
                feedback.innerHTML = `
                    <div style="background: #ffebee; padding: 15px; border-radius: 8px;">
                        <p style="color: #c62828; font-weight: bold;">
                            <i class="fas fa-times-circle"></i> –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –ª—É—á—à–µ.
                        </p>
                        <p style="margin-top: 10px;">–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç: "${exercise.correct}"</p>
                        <p style="margin-top: 10px;">${exercise.explanation}</p>
                    </div>
                `;
            }
            feedback.style.display = 'block';
            updateScoreDisplay();
        }
        
        function showTranslationHint() {
            const exercise = advancedExercises[currentLessonId][currentExerciseIndex];
            const feedback = document.getElementById('exercise-feedback');
            
            feedback.innerHTML = `
                <div style="background: #fff3e0; padding: 15px; border-radius: 8px; border-left: 4px solid #FF9800;">
                    <p style="color: #E65100; font-weight: bold;">
                        <i class="fas fa-lightbulb"></i> –ü–æ–¥—Å–∫–∞–∑–∫–∞:
                    </p>
                    <p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–¥–∏–æ–º—É "${exercise.variants ? exercise.variants[0] : exercise.correct.split(' ')[0]}"</p>
                    <p style="margin-top: 10px; font-style: italic;">–ü—Ä–∏–º–µ—Ä: ${exercise.correct}</p>
                </div>
            `;
            feedback.style.display = 'block';
        }
        
        // True/False –≤—ã–±–æ—Ä
        function selectTrueFalse(value) {
            userAnswers[currentExerciseIndex] = value;
            
            const exercise = advancedExercises[currentLessonId][currentExerciseIndex];
            const feedback = document.getElementById('exercise-feedback');
            
            if (value === exercise.correct) {
                score++;
                feedback.innerHTML = `
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 8px;">
                        <p style="color: #2E7D32; font-weight: bold;">
                            <i class="fas fa-check-circle"></i> –ü—Ä–∞–≤–∏–ª—å–Ω–æ!
                        </p>
                        <p style="margin-top: 10px;">${exercise.explanation}</p>
                    </div>
                `;
            } else {
                feedback.innerHTML = `
                    <div style="background: #ffebee; padding: 15px; border-radius: 8px;">
                        <p style="color: #c62828; font-weight: bold;">
                            <i class="fas fa-times-circle"></i> –ù–µ–≤–µ—Ä–Ω–æ.
                        </p>
                        <p style="margin-top: 10px;">${exercise.explanation}</p>
                    </div>
                `;
            }
            feedback.style.display = 'block';
            updateScoreDisplay();
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è
        function checkExplanation() {
            const input = document.getElementById('explanation-input');
            const answer = input.value.trim();
            const exercise = advancedExercises[currentLessonId][currentExerciseIndex];
            
            userAnswers[currentExerciseIndex] = answer;
            
            // –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –¥–ª–∏–Ω–µ –∏ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
            const hasExplanation = answer.length > 20;
            const hasExample = answer.includes('–ü—Ä–∏–º–µ—Ä') || answer.includes('example') || 
                              (answer.match(/'.*?'/g) || []).length > 0;
            
            const feedback = document.getElementById('exercise-feedback');
            if (hasExplanation && hasExample) {
                score++;
                feedback.innerHTML = `
                    <div style="background: #e8f5e8; padding: 15px; border-radius: 8px;">
                        <p style="color: #2E7D32; font-weight: bold;">
                            <i class="fas fa-check-circle"></i> –û—Ç–ª–∏—á–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ!
                        </p>
                        <p style="margin-top: 10px;">–ü—Ä–∏–º–µ—Ä —Ö–æ—Ä–æ—à–µ–≥–æ –æ—Ç–≤–µ—Ç–∞:</p>
                        <p style="font-style: italic; background: white; padding: 10px; border-radius: 5px; margin-top: 5px;">
                            ${exercise.sample}
                        </p>
                    </div>
                `;
            } else {
                feedback.innerHTML = `
                    <div style="background: #fff3e0; padding: 15px; border-radius: 8px;">
                        <p style="color: #FF9800; font-weight: bold;">
                            <i class="fas fa-exclamation-circle"></i> –•–æ—Ä–æ—à–∞—è –ø–æ–ø—ã—Ç–∫–∞!
                        </p>
                        <p style="margin-top: 10px;">–ü–æ—Å—Ç–∞—Ä–∞–π—Ç–µ—Å—å –≤–∫–ª—é—á–∏—Ç—å –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ, –∏ –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.</p>
                        <p style="margin-top: 10px;">–ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞:</p>
                        <p style="font-style: italic; background: white; padding: 10px; border-radius: 5px; margin-top: 5px;">
                            ${exercise.sample}
                        </p>
                    </div>
                `;
            }
            feedback.style.display = 'block';
            updateScoreDisplay();
        }
        
        function showExplanationExample() {
            const exercise = advancedExercises[currentLessonId][currentExerciseIndex];
            const feedback = document.getElementById('exercise-feedback');
            
            feedback.innerHTML = `
                <div style="background: #fff3e0; padding: 15px; border-radius: 8px; border-left: 4px solid #FF9800;">
                    <p style="color: #E65100; font-weight: bold;">
                        <i class="fas fa-eye"></i> –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:
                    </p>
                    <p style="font-style: italic; background: white; padding: 10px; border-radius: 5px; margin-top: 10px;">
                        ${exercise.sample}
                    </p>
                `;
            feedback.style.display = 'block';
        }
        
        // –û–±–Ω–æ–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—á–µ—Ç–∞
        function updateScoreDisplay() {
            const scoreDisplay = document.getElementById('score-display');
            const lesson = advancedLessons.find(l => l.id === currentLessonId);
            if (scoreDisplay && lesson) {
                scoreDisplay.textContent = `–°—á–µ—Ç: ${score}/${lesson.exercises}`;
            }
        }
        
        // –°–ª–µ–¥—É—é—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ
        function nextExercise() {
            const exercises = advancedExercises[currentLessonId];
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –±—ã–ª –ª–∏ –¥–∞–Ω –æ—Ç–≤–µ—Ç –Ω–∞ —Ç–µ–∫—É—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ
            if (userAnswers[currentExerciseIndex] === undefined) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–¥–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É.');
                return;
            }
            
            if (currentExerciseIndex < exercises.length - 1) {
                currentExerciseIndex++;
                loadExercise(currentExerciseIndex);
            } else {
                // –í—Å–µ –∑–∞–¥–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
                showCompletion();
            }
        }
        
        // –ü—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–∞–¥–∞–Ω–∏–µ
        function previousExercise() {
            if (currentExerciseIndex > 0) {
                currentExerciseIndex--;
                loadExercise(currentExerciseIndex);
            }
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —É—Ä–æ–∫–∞
        function showCompletion() {
            const container = document.getElementById('exercise-container');
            const completionMessage = document.getElementById('completion-message');
            const nextBtn = document.getElementById('next-btn');
            const prevBtn = document.getElementById('prev-btn');
            
            if (container) {
                container.style.display = 'none';
            }
            
            if (completionMessage) {
                completionMessage.style.display = 'block';
            }
            
            if (nextBtn) {
                nextBtn.textContent = '–ó–∞–≤–µ—Ä—à–∏—Ç—å –í–ò–ü-—É—Ä–æ–∫';
                nextBtn.onclick = () => completeAdvancedLesson(currentLessonId);
            }
            
            if (prevBtn) {
                prevBtn.style.display = 'none';
            }
        }
        
        // –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –í–ò–ü-—É—Ä–æ–∫–∞
        function closeAdvancedLessonModal() {
            const modal = document.getElementById('lesson-modal');
            if (modal) {
                modal.remove();
            }
        }
        
        // –ó–∞–≤–µ—Ä—à–∏—Ç—å –í–ò–ü-—É—Ä–æ–∫
        function completeAdvancedLesson(lessonId) {
            const user = JSON.parse(localStorage.getItem('currentUser'));
            
            if (!user.progress) user.progress = {};
            if (!user.progress.advanced) user.progress.advanced = { completedLessons: 0, scores: {} };
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—á–µ—Ç
            user.progress.advanced.scores = user.progress.advanced.scores || {};
            user.progress.advanced.scores[lessonId] = score;
            
            // –û—Ç–º–µ—á–∞–µ–º —É—Ä–æ–∫ –∫–∞–∫ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–π
            if (lessonId > user.progress.advanced.completedLessons) {
                user.progress.advanced.completedLessons = lessonId;
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
                localStorage.setItem('currentUser', JSON.stringify(user));
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –≤ –º–∞—Å—Å–∏–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
                const users = JSON.parse(localStorage.getItem('users')) || [];
                const index = users.findIndex(u => u.id === user.id);
                if (index !== -1) {
                    users[index] = user;
                    localStorage.setItem('users', JSON.stringify(users));
                }
                
                alert(`üèÜ –í–ò–ü-—É—Ä–æ–∫ ${lessonId} —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω! –í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${score}/${advancedExercises[lessonId].length} –±–∞–ª–ª–æ–≤. –í—ã —Å—Ç–∞–Ω–æ–≤–∏—Ç–µ—Å—å –Ω–∞—Å—Ç–æ—è—â–∏–º –º–∞—Å—Ç–µ—Ä–æ–º –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ!`);
                closeAdvancedLessonModal();
                initAdvancedCourse(); // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –∫—É—Ä—Å
            } else {
                alert('–≠—Ç–æ—Ç –í–ò–ü-—É—Ä–æ–∫ —É–∂–µ –±—ã–ª –∑–∞–≤–µ—Ä—à–µ–Ω —Ä–∞–Ω–µ–µ.');
                closeAdvancedLessonModal();
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            initAdvancedCourse();
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ —à—Ç–æ—Ä–∫–∏ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–µ –æ–±–ª–∞—Å—Ç–∏
            document.addEventListener('click', function(event) {
                const overlay = document.getElementById('navOverlay');
                const burger = document.querySelector('.burger-menu');
                
                if (overlay.classList.contains('active') && 
                    !overlay.contains(event.target) && 
                    !burger.contains(event.target)) {
                    closeNav();
                }
            });
        });
    </script>
</body>
</html>